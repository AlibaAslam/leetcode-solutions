#include <vector>
#include <cmath>

class Solution {
public:
    std::vector<int> sortedSquares(std::vector<int>& nums) {
        int n = nums.size();
        int i = 0;
        int j = n - 1;
        std::vector<int> ans(n);
        int k = n - 1;

        while (i <= j) {
            int l_square = nums[i] * nums[i];
            int r_square = nums[j] * nums[j];

            if (l_square < r_square) {
                ans[k] = r_square;
                j--;
            } else {
                ans[k] = l_square;
                i++;
            }
            k--;
        }
        return ans;
    }
};
